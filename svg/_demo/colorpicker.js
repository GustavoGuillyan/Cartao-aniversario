var Colorpicker=function(){var e,t,n,i,o,s,c,d,r,a=Math.round,u=Math.min,v=Math.max,p=[0,0,0],l=null,m=function(){e||((e=document.createElement("div")).className="cpick",e.innerHTML='<div class="cpick-s"><div class="cpick-b"></div><div class="cpick-sb-ind"></div><div class="cpick-sb-trp"></div></div><div class="cpick-h"><div class="cpick-h-ind"></div><div class="cpick-h-trp"></div></div>',setTimeout(function(){t=e.getElementsByClassName("cpick-sb-ind")[0],
n=e.getElementsByClassName("cpick-h-ind")[0],s=e.getElementsByClassName("cpick-h-trp")[0],o=e.getElementsByClassName("cpick-sb-trp")[0],i=e.getElementsByClassName("cpick-s")[0],e.onmousedown=function(e){e.stopPropagation()};var a=function(){v();var t=e.parentNode;t&&t.removeChild(e)};document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),window.addEventListener("resize",a,!0);var u=function(e){e.target!=o&&e.target!=s||(l=e.target,
document.addEventListener("mousemove",g,{capture:!0,passive:!1}),document.addEventListener("touchmove",g,{capture:!0,passive:!1}),document.addEventListener("mouseup",v),document.addEventListener("touchend",v),g(e))},v=function(){l&&(document.removeEventListener("mousemove",g,{capture:!0,passive:!1}),document.removeEventListener("touchmove",g,{capture:!0,passive:!1}),document.removeEventListener("mouseup",v),document.removeEventListener("touchend",v),l=null)};e.addEventListener("mousedown",u),
e.addEventListener("touchstart",u),document.addEventListener("keydown",function(e){27==e.keyCode&&(c&&c(r,d),a())})},0))},g=function(e){e.preventDefault(),e.stopPropagation(),e.touches&&(e=e.touches[0]);var t=document.body.getBoundingClientRect(),n=l.getBoundingClientRect(),i=u(1,v(0,(e.pageX-(n.left-t.left))/n.width)),c=u(1,v(0,(e.pageY-(n.top-t.top))/n.height));l==s?p[0]=c:l==o&&(p[1]=i,p[2]=1-c),h()},h=function(){i.style.background="linear-gradient(to right,#fff 0,"+f(y(p[0],1,1))+" 100%)"
;var e=i.getBoundingClientRect();t.style.left=a(p[1]*e.width)+"px",t.style.top=a((1-p[2])*e.height)+"px";var o=s.getBoundingClientRect();n.style.top=a([p[0]]*o.height)+"px",c&&c(f(y(p[0],p[1],p[2])),d)},f=function(e){return"#"+((1<<24)+e[2]|e[1]<<8|e[0]<<16).toString(16).slice(1)},E=function(e){return[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)]},k=function(e,t,n){return a(255*((n+=n<0?1:n>1?-1:0)<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e))
},y=function(e,t,n){var i=n,o=(1-t)*i;return[k(o,i,e+1/3),k(o,i,e),k(o,i,e-1/3)]},C=function(e,t,n){var i,o=v(e,t,n),s=o-u(e,t,n),c=o?s/o:0;return[i=0==c?0:((i=e==o?(t-n)/s:t==o?2+(n-e)/s:4+(e-t)/s)<0?i+6:i)/6,c,o/255]},L=function(t){var n=document.body.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.left-n.left,s=i.top-n.top+i.height,c=10,d=n.width-e.clientWidth-c,r=n.height-e.clientHeight;e.style.left=u(o,d)+"px",e.style.top=u(s,r)+"px"};return{show:function(t,n,i){
var o=navigator.userAgent.toLowerCase();if(t&&!/msie/.test(o)||/msie\s*1/.test(o)){d=t,c=n,r=i=i||"#000000";var s=E(i);p=C(s[0],s[1],s[2]),m(),setTimeout(function(){e.style.top="-1000px",document.body.appendChild(e),h(),L(d)},0)}}}}();